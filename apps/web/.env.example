# =============================================================================
# UNMAPPED OS - Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in your values
# NEVER commit .env.local to version control
# =============================================================================

# -----------------------------------------------------------------------------
# SUPABASE CONFIGURATION
# -----------------------------------------------------------------------------
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# -----------------------------------------------------------------------------
# MAP PROVIDERS (choose one or both for fallback)
# -----------------------------------------------------------------------------
# Mapbox (primary)
NEXT_PUBLIC_MAPBOX_TOKEN=pk.your-mapbox-token-here
NEXT_PUBLIC_MAPBOX_STYLE=mapbox://styles/mapbox/dark-v11

# MapLibre / MapTiler (fallback)
NEXT_PUBLIC_MAPLIBRE_STYLE_URL=https://api.maptiler.com/maps/streets-v2-dark/style.json?key=your-maptiler-key
NEXT_PUBLIC_MAPTILER_KEY=your-maptiler-key-here

# Map preference: 'mapbox' | 'maplibre'
NEXT_PUBLIC_MAP_PROVIDER=maplibre

# -----------------------------------------------------------------------------
# OAUTH PROVIDERS (Supabase Auth)
# -----------------------------------------------------------------------------
# Google OAuth
NEXT_PUBLIC_GOOGLE_ENABLED=true
# Configure in Supabase Dashboard > Authentication > Providers

# GitHub OAuth
NEXT_PUBLIC_GITHUB_ENABLED=true
# Configure in Supabase Dashboard > Authentication > Providers

# Apple OAuth
NEXT_PUBLIC_APPLE_ENABLED=false
# Configure in Supabase Dashboard > Authentication > Providers

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=UNMAPPED OS
NEXT_PUBLIC_APP_VERSION=6.0.0

# Environment: development | staging | production
NODE_ENV=development

# -----------------------------------------------------------------------------
# LOGGING CONFIGURATION
# -----------------------------------------------------------------------------
# Log level: trace | debug | info | warn | error | fatal
LOG_LEVEL=info

# Enable structured JSON logs in production
LOG_FORMAT=pretty

# Optional: Ship logs to external service
# LOG_DESTINATION=datadog
# DATADOG_API_KEY=your-datadog-api-key
# DATADOG_SITE=datadoghq.com

# Optional: S3 log archival
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# LOG_S3_BUCKET=your-log-bucket

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
# Session encryption key (generate with: openssl rand -base64 32)
SESSION_SECRET=your-session-secret-min-32-chars-here

# Rate limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
NEXT_PUBLIC_ENABLE_GAMIFICATION=true
NEXT_PUBLIC_ENABLE_OFFLINE_MODE=true
NEXT_PUBLIC_ENABLE_CRISIS_MODE=true
NEXT_PUBLIC_ENABLE_GHOST_BEACONS=true
NEXT_PUBLIC_ENABLE_WHISPER_ENGINE=true
NEXT_PUBLIC_ENABLE_REPLAY=true

# -----------------------------------------------------------------------------
# OVERPASS API (for pack generation)
# -----------------------------------------------------------------------------
OVERPASS_API_URL=https://overpass-api.de/api/interpreter

# -----------------------------------------------------------------------------
# CRON / BACKGROUND JOBS
# -----------------------------------------------------------------------------
# Secret for cron endpoint verification
CRON_SECRET=your-cron-secret-here

# -----------------------------------------------------------------------------
# ANALYTICS (optional)
# -----------------------------------------------------------------------------
# NEXT_PUBLIC_POSTHOG_KEY=your-posthog-key
# NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# =============================================================================
# SCALING (Optional - Free Tier Works Without These)
# =============================================================================
# The app uses in-memory caching by default which works great for:
# - Development
# - Small deployments (< 10k users)
# - Vercel Hobby plan
#
# Only configure these if you need distributed caching at scale.

# -----------------------------------------------------------------------------
# REDIS CACHE (Optional - Upstash Free Tier: 10k commands/day)
# Only needed for multi-instance deployments
# Get credentials from: https://console.upstash.com/redis
# -----------------------------------------------------------------------------
# UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your-redis-token
