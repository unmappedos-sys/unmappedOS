# =============================================================================
# UNMAPPED OS - PRODUCTION ENVIRONMENT
# =============================================================================
# ‚ö†Ô∏è  NEVER COMMIT THIS FILE - FOR VERCEL DEPLOYMENT REFERENCE ONLY
# Copy these values to Vercel Dashboard ‚Üí Settings ‚Üí Environment Variables
# =============================================================================

# -----------------------------------------------------------------------------
# üî¥ CRITICAL - Required for Authentication
# -----------------------------------------------------------------------------

# NextAuth Configuration
NEXTAUTH_SECRET=7ZTTLBPfjZNrnx7E/enN8M3bmiGTXWXjNp/fwmYCf3I=
NEXTAUTH_URL=https://unmapped-os-web.vercel.app

# Application URLs
NEXT_PUBLIC_APP_URL=https://unmapped-os-web.vercel.app
NEXT_PUBLIC_DOMAIN=unmappedos.com

# Node Environment
NODE_ENV=production

# -----------------------------------------------------------------------------
# üî¥ CRITICAL - Supabase (Database & Auth Backend)
# -----------------------------------------------------------------------------
# Get from: https://app.supabase.com/project/_/settings/api

NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# -----------------------------------------------------------------------------
# üî¥ CRITICAL - OAuth Providers
# -----------------------------------------------------------------------------

# Google OAuth
# Setup: https://console.cloud.google.com/apis/credentials
# Authorized redirect URI: https://unmapped-os-web.vercel.app/api/auth/callback/google
NEXT_PUBLIC_GOOGLE_ENABLED=true
GOOGLE_CLIENT_ID=1053188696050-058ongfmrsm6t3jpth2t4ssje0mmhftb.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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

# GitHub OAuth
# Setup: https://github.com/settings/developers
# Authorized redirect URI: https://unmapped-os-web.vercel.app/api/auth/callback/github
NEXT_PUBLIC_GITHUB_ENABLED=true
GITHUB_ID=Ov23li9x9a6PZBeBdzao
GITHUB_SECRET=f398722f7118ef6582f673820085e001e310cc6b

# Apple OAuth (Optional - Not yet configured)
NEXT_PUBLIC_APPLE_ENABLED=false
APPLE_CLIENT_ID=
APPLE_TEAM_ID=
APPLE_KEY_ID=
APPLE_PRIVATE_KEY=

# -----------------------------------------------------------------------------
# üü° RECOMMENDED - Map Provider
# -----------------------------------------------------------------------------

# Primary Map Provider: mapbox | maplibre
NEXT_PUBLIC_MAP_PROVIDER=mapbox

# MapLibre with Maptiler (FREE TIER)
NEXT_PUBLIC_MAPLIBRE_STYLE_URL=https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL
NEXT_PUBLIC_MAPTILER_KEY=GAFRKTaLQbD4RESx1qhp

# Mapbox (Optional - Paid Tier, Better Maps)
NEXT_PUBLIC_MAPBOX_TOKEN=pk.eyJ1IjoidW5tYXBwZWRvcyIsImEiOiJjbWo0dGcxbjQxNW93M2xxdTdkMHZka2VjIn0.dy9JUGoasI0iyZKGJ2ryig
NEXT_PUBLIC_MAPBOX_STYLE=mapbox://styles/mapbox/dark-v11

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Branding & Metadata
# -----------------------------------------------------------------------------

NEXT_PUBLIC_APP_NAME=UNMAPPED OS
NEXT_PUBLIC_APP_VERSION=6.0.0

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - External APIs
# -----------------------------------------------------------------------------

# Overpass API (for city pack generation - uses public endpoint)
OVERPASS_ENDPOINT=https://overpass-api.de/api/interpreter
OVERPASS_RATE_LIMIT_MS=2000
OVERPASS_TIMEOUT=90

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Security (Cron Job Protection)
# -----------------------------------------------------------------------------

# Protect /api/cron/* endpoints from unauthorized access
# Generate with: openssl rand -base64 32
CRON_SECRET=generate-random-secret-for-production-here
API_SECRET_KEY=generate-api-secret-for-production-here

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://unmapped-os-web.vercel.app,https://unmappedos.com

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Logging Configuration
# -----------------------------------------------------------------------------

LOG_LEVEL=info
LOG_FORMAT=json
LOG_REDACT=req.headers.authorization,user.email,user.phone,body.location,req.body.location

# External Logging (Optional)
LOG_SHIP_S3=false
S3_LOG_BUCKET=
S3_LOG_REGION=
S3_LOG_ACCESS_KEY_ID=
S3_LOG_SECRET_ACCESS_KEY=

LOG_SHIP_DATADOG=false
DATADOG_API_KEY=

LOG_SHIP_LOGDNA=false
LOGDNA_INGESTION_KEY=

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Monitoring & Analytics
# -----------------------------------------------------------------------------

# Error Tracking
SENTRY_DSN=
SENTRY_ENV=production

# Privacy-Safe Analytics
ANALYTICS_ENABLED=false
PLAUSIBLE_DOMAIN=unmappedos.com

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Gamification Settings
# -----------------------------------------------------------------------------

GAMIFY_KARMA_COMMENT=10
GAMIFY_KARMA_PRICE=5
GAMIFY_KARMA_REPORT=15
GAMIFY_KARMA_VERIFIED=25
GAMIFY_KARMA_DAILY_CAP=200
GAMIFY_KARMA_ABUSE_THRESHOLD=500

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Rate Limiting
# -----------------------------------------------------------------------------

RATE_LIMIT_EXPORT=5
RATE_LIMIT_WINDOW=3600000
RATE_LIMIT_API=100
RATE_LIMIT_HAZARD_REPORT=5

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Feature Flags
# -----------------------------------------------------------------------------

FEATURE_GAMIFICATION=true
FEATURE_ACTIVITY_EXPORT=true
FEATURE_OPERATIVE_MEMORY=true
FEATURE_CRISIS_MODE=true
FEATURE_SHADOW_MODE=true
FEATURE_GHOST_BEACONS=true
FEATURE_WHISPER_ENGINE=true
FEATURE_TEXTURE_SYSTEM=true

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Caching (Redis/Upstash)
# -----------------------------------------------------------------------------

# Upstash Redis (Optional - uses in-memory cache if not configured)
REDIS_ENABLED=false
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# Cache TTL (seconds)
CACHE_TTL_ZONE=3600
CACHE_TTL_USER_STATS=300
CACHE_TTL_PACK=604800
CACHE_TTL_PRICES=60

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Database Optimizations
# -----------------------------------------------------------------------------

DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_SIZE=20

# Supabase Storage Buckets
STORAGE_BUCKET_PACKS=city-packs
STORAGE_BUCKET_PHOTOS=user-photos

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Queue System (Upstash Kafka)
# -----------------------------------------------------------------------------

UPSTASH_KAFKA_REST_URL=
UPSTASH_KAFKA_REST_USERNAME=
UPSTASH_KAFKA_REST_PASSWORD=

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Intelligence Layer
# -----------------------------------------------------------------------------

# Texture System
TEXTURE_UPDATE_INTERVAL=3600000
TEXTURE_WEATHER_API_KEY=

# Whisper Engine
WHISPER_MIN_INTEL_THRESHOLD=3
WHISPER_CONFIDENCE_THRESHOLD=0.7

# Ghost Beacons
GHOST_BEACON_RADIUS=50
GHOST_BEACON_MIN_INTEREST_SCORE=7

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Moderation (Kill Switch)
# -----------------------------------------------------------------------------

KILL_SWITCH_REPORT_THRESHOLD=2
KILL_SWITCH_TIME_WINDOW=86400000
KILL_SWITCH_OFFLINE_DURATION=604800000

MODERATION_AUTO_HIDE_THRESHOLD=-5
MODERATION_MANUAL_REVIEW_THRESHOLD=3

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Memory & Personalization
# -----------------------------------------------------------------------------

REPLAY_MAX_ENTRIES=10000
REPLAY_RETENTION_DAYS=90

FINGERPRINT_MIN_ZONES_VISITED=10
FINGERPRINT_UPDATE_FREQUENCY=86400000

# -----------------------------------------------------------------------------
# üü¢ OPTIONAL - Safety Features
# -----------------------------------------------------------------------------

CRISIS_TRIGGER_BATTERY=15
CRISIS_SHAKE_THRESHOLD=15

SHADOW_MODE_ENABLED=true
SHADOW_MODE_NO_WRITES=true

# =============================================================================
# DEPLOYMENT CHECKLIST
# =============================================================================
# 
# ‚úÖ 1. Add critical env vars to Vercel (marked with üî¥)
# ‚úÖ 2. Update OAuth callback URLs:
#      - Google: https://unmapped-os-web.vercel.app/api/auth/callback/google
#      - GitHub: https://unmapped-os-web.vercel.app/api/auth/callback/github
# ‚úÖ 3. Verify Supabase RLS policies are enabled
# ‚úÖ 4. Add recommended env vars (marked with üü°)
# ‚úÖ 5. Redeploy from Vercel Dashboard
# ‚úÖ 6. Test authentication flow
# ‚úÖ 7. Monitor error logs for missing env vars
#
# =============================================================================
